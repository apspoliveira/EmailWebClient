<div class="pm_table addressKeysView-container" ng-class="displayMode">
  <table class="bordered absorbing">
    <thead>
      <tr>
        <th data-display-mode="address" class="key-size absorbing-column-half">Email</th>
        <th data-display-mode="user" class="key-size absorbing-column-half"></th>
        <th class="finger-print absorbing-column-half">Fingerprint</th>
        <th>Key side</th>
        <th class="actions text-center">Download</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat-start="address in addresses | orderBy: 'order' track by address.addressID">
        <td>
          <span class="addressKeysView-toggle">
            <toggle-expand data-model="address"></toggle-expand>
          </span>
          <span class="addressKeysView-email ellipsis" title="{{ address.email })"><strong>{{ address.email }}</strong></span>
        </td>
        <td>
          <code>{{ address.fingerprint }}</code>
        </td>
        <td>
          {{ address.bitSize }} Bit <i class="fa fa-into-circle cursor-pointer"></i>
        </td>
        <td class="text-center">
          <button data-display-mode="address" class="pm_button link" ng-click="download(address.publicKey, address.email, 'public')">Public key</button>
          <span data-display-mode="user">None</span>
        </td>
      </tr>
      <tr class="hasTable" ng-repeat-end>
        <td colspan="5">
          <div class="pm_table">
            <table class="margin-top">
              <thead>
                <tr>
                  <th class="finger-print absorbing-column-half">Fingerprint</th>
                  <th class="key-size">Key size</th>
                  <th class="status">Status</th>
                  <th class="action text-center">Actions</th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="key in address.keys">
                  <td>
                    <code>{{ key.fingerprint }}</code>
                  </td>
                  <td>
                    {{ key.bitSize }} Bit
                  </td>
                  <td>
                    <span class="pm_badge primary">Primary</span>
                    <span class="pm_badge success" ng-show="key.decrypted">Active</span>
                    <span class="pm_badge error">Inactive</span>
                  </td>
                  <td class="text-center">
                    <button type="button" class="pm_button link" ng-click="reactivate(key)">Reactivate</button>
                    <span>None</span>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
</div>
