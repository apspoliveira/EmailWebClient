angular.module('webmail.settings')
    .factory('mailSettingsModel', mailSettingsModel);
function mailSettingsModel() {
    var CACHE = {};
    const get = function(key) {
	console.log(key);
	if (key === 'all')
	    return angular.copy(CACHE);
	else
	    return angular.copy(CACHE[key]);
    }

    const clear = function() {
	CACHE = {};
    }

    const set = function(key, value) {
        if (key === 'all') {
            _.extend(CACHE, value);
        } else {
            CACHE[key] = value;
        }
    };

    return { get, set };
}