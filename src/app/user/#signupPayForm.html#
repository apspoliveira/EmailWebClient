<div 
    class="signupPayForm-container" 
   ng-class="{
             'signupPayForm-cycle-month': plan.Cycle === 1,
             'signupPayForm-cycle-year': plan.Cycle === 12,
             'signupPayForm-plan-plus': plan.Name === 'plus', 
             'signupPayForm-plan-visionary': plan.Name === 'visionary',
             'signupPayForm-method-paypal': method.value === 'paypal',
             'signupPayForm-error': errorPay,
    }">

    <header class="text-center header signupPayForm-header">
        <h2 class="signupPayForm-header-title">
            <span>Billing Information</span>
        </h2>
        <p class="uppercase">Thank you for your support!</p>
    </header>
    <hr />

    <div class="pm_grid">
        <div class="col-1-4 bold">Overview</div>
        <div class="col-3-4">
            <table class="print">
                <tbody>
                    <tr>
                        <th>Plan</th>
                        <td>
                            <strong class="signupPayForm-feature-plus plus">ProtonMail PLUS</strong>
                            <strong class="signupPayForm-feature-visionary visionary">ProtonMail VISIONARY</strong>
                        </td>
                    </tr>
                    <tr>
                        <th>Billing</th>
                        <td>
                            <strong class="signupPayForm-selection-monthly">Monthly</strong>
                            <strong class="signupPayForm-selection-annually">Annually</strong>
                        </td>
                    </tr>
                    <tr ng-if="giftModel.Gift">
                        <th>Gift code</th>
                        <td>
                            <strong class="text-green">{{ giftModel.Gift / 100 | currency: plan.Currency }}</strong>
                        </td>
                    </tr>
                    <tr>
                        <th>Price</th>
                        <td>
                            <strong>{{ (giftMode.AmountDue || plan.Amount) / 100 | currency: plan.Currency }}</strong> <i ng-hide="plan.Cycle === 1">({{ (giftModel.AmountDue || plan.Amount) / 100 / plan.Cycle | currency: plan.Currency }} / month)</i>
                        </td>
                    </tr>
                </tbody>
            </table>

            <button type="button" class="signupPayForm-btn-features">
                <span>Show features</span>
            </button>

            <ul class="signupPayForm-view-features">
                <li class="signupPayForm-feature-plus">5GB storage</li>
                <li class="signupPayForm-feature-visionary">20GB storage</li>
                <li class="signupPayForm-feature-plus">Send up to 1000 messages per day</li>
                <li class="signupPayForm-feature-visionary">No sending limits</li>
                <li>Labels and Custom Filters</li>
                <li>Send encrypted messages to external recipients</li>
                <li>Use your own domain (ex: thomas@anderson.com)</li>
                <li class="signupPayForm-feature-plus">Up to 5 email aliases</li>
                <li class="signupPayForm-feature-visionary">Up to 50 email aliases</li>
                <li class="signupPayForm-feature-visionary">Support for up to 5 domains</li>
                <li>Priority Customer Support</li>
                <li class="signupPayForm-feature-visionary">Early access to new features</li>
                <li class="signupPayForm-feature-visionary">Help pick new features through Visionary only polls</li>
            </ul>
        </div>
    </div>

    <form name="payForm" class="pm_form">

        <div class="margin">
            <div class="col-1-2">
                <label for="paymentMethod">Payment method:</label>
            </div>
            <div class="col-1-2">
                <div class="pm_select">
                    <select 
                        id="paymentMethod" 
                        ng-model="method" 
                        ng-options="method.label for method in methods"></select>
                </div>
            </div>
        </div>

        <div class="pm_grid" ng-if="method.value === 'card'">
            <div class="col-1-4 bold">Credit Card</div>
            <div class="col-3-4">
                <card-view
                    data-card="account.card" 
                    data-form="payForm"></card-view>
            </div>
        </div>

        <div class="pm_grid" ng-if="method.value === 'paypal'">
            <div class="col-1-4 bold">PayPal</div>
            <div class="col-3-4">
                <paypal-view 
                    data-callback="onPaypalSuccess" 
                    data-currency="plan.Currency" 
                    data-amount="giftModel.AmountDue || plan.Amount"></paypal-view>
            </div>
        </div>

        <div class="signupPayForm-gift-row">
            <div class="col-1-4 bold">Gift code</div>
            <div class="col-3-4 signupPayForm-gift-col">
                <gift-code-btn data-action="displayGiftSignup"></gift-code-btn>
                <gift-code-input data-code="giftCode" data-form="payForm"></gift-code-input>
                <button class="signupPayForm-btn-apply" type="button">Apply</button>
            </div>
        </div>

        <footer class="text-center signupPayForm-footer">
            <p class="alert alert-info signupPayForm-msg-error"><span>Would you like to create a free ProtonMail account instead?</span> <signup-step-link data-value="3"></signup-step-link></p>

            <button 
                class="signupPayForm-btn-submit"
                type="submit" 
                ng-disabled="networkActivity.loading()">Submit</button>
            <button 
                class="signupPayForm-btn-retry" 
                type="submit" 
                ng-disabled="networkActivity.loading()">Retry</button>
            <button 
                class="signupPayForm-btn-cancel" 
                type="reset" 
                ng-disabled="networkActivity.loading()">Cancel</button>
        </footer>
    </form>
</div>
